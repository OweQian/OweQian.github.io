---
title: é¢è¯•é¢˜-å¸¸è§é¢è¯•é¢˜ç³»åˆ—ä¹‹JSåŸºç¡€
date: 2019-11-25 09:46:52
tags: [é¢è¯•é¢˜]
categories: å‰ç«¯
---

#### å¯¼è¯­

æœ¬ç³»åˆ—æ—¨åœ¨æ•´ç† JS å¸¸è§é¢è¯•é¢˜ï¼Œå¸®åŠ©æ¢³ç† JS åŸºç¡€çŸ¥è¯†ç‚¹ã€‚

### ðŸŒ° ['1', '2', '3'].map(parseInt) è¾“å‡ºç»“æžœ

#### parseInt

è§£æžä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œè¿”å›žä¸€ä¸ªæŒ‡å®šåŸºæ•°çš„æ•´æ•°ã€‚

```javascript
const intValue = parseInt(string[, radix]);
```

string è¦è¢«è§£æžçš„å€¼ã€‚å¦‚æžœå‚æ•°ä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚å­—ç¬¦ä¸²å¼€å¤´çš„ç©ºç™½ç¬¦ä¼šè¢«å¿½ç•¥ã€‚

radix ä¸€ä¸ªä»‹äºŽ 2~36ä¹‹é—´çš„æ•´æ•°ï¼Œè¡¨ç¤ºä¸Šè¿°å­—ç¬¦ä¸²çš„åŸºæ•°ï¼Œé»˜è®¤å€¼ä¸º 10ã€‚

parseInt è¿”å›žä¸€ä¸ªæ•´æ•°æˆ– NaNã€‚

```javascript
parseInt(100); // 100
parseInt(100, 10); // 1*10*10 + 0*10*1 + 0*10*0 = 100
parseInt(100, 2); // 1*2*2 + 0*2*1 + 0*2*0 = 4
```

åœ¨ radix ä¸º undefined ï¼Œæˆ– radix ä¸º 0 æˆ–æ²¡æœ‰æŒ‡å®šçš„æƒ…å†µä¸‹ï¼ŒJS ä½œå¦‚ä¸‹å¤„ç†ï¼š

* string ä»¥ '0x' æˆ– '0X' å¼€å¤´ï¼Œåˆ™ radix ä¸º 16ã€‚

* string ä»¥ '0' å¼€å¤´ï¼Œradix ä¸º 8 æˆ–è€… 10ï¼Œå…·ä½“å“ªä¸ªåŸºæ•°ç”±å®žçŽ°çŽ¯å¢ƒå†³å®šã€‚

* string ä»¥å…¶å®ƒä»»ä½•å€¼å¼€å¤´ï¼Œåˆ™ radix ä¸º 10ã€‚

#### map

åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ç»“æžœæ˜¯è¯¥æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨ä¸€ä¸ªæä¾›çš„å‡½æ•°åŽè¿”å›žçš„ç»“æžœã€‚

```javascript
var new_array = arr.map(function callback(currentValue[,index[, array]]) {
 // Return element for new_array
 }[, thisArg])
```

callback å›žè°ƒå‡½æ•°éœ€è¦ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸º currentValue(æ•°ç»„ä¸­å½“å‰æ­£åœ¨å¤„ç†çš„å…ƒç´ çš„å€¼)ã€index(æ•°ç»„ä¸­å½“å‰æ­£åœ¨å¤„ç†çš„å…ƒç´ çš„ç´¢å¼•)ã€array(map æ–¹æ³•ä¸­è¢«è°ƒç”¨çš„æ•°ç»„)ã€‚

```javascript
const arr = [1, 2, 3]
arr.map(num => num * 2) // [2, 4, 6]
```

#### ['1', '2', '3'].map(parseInt) è¾“å‡º

å¯¹äºŽæ¯ä¸ªè¿­ä»£ mapï¼ŒparseInt() ä¼ é€’ä¸¤ä¸ªå‚æ•°ï¼šå­—ç¬¦ä¸²å’ŒåŸºæ•°ã€‚æ‰€ä»¥å®žé™…æ‰§è¡Œçš„ä»£ç ä¸ºï¼š

```javascript
['1', '2', '3'].map(parseInt((item, index) => parseInt(item, index))
```

æ‰§è¡Œæ­¥éª¤ä¸ºï¼š

```javascript
parseInt('1', 0); // 1 (10 è¿›åˆ¶)
parseInt('2', 1); // NaN radix(2-36)
parseInt('3', 2); // NaN ä¸ç¬¦åˆ2è¿›åˆ¶ä½æ•°å–å€¼(0-1)
```

æ‰€ä»¥ï¼š

```javascript
['1', '2', '3'].map(parseInt) // [1, NaN, NaN]
```

### ðŸŒ° ä»€ä¹ˆæ˜¯èŠ‚æµå’Œé˜²æŠ–ï¼ŸåŒºåˆ«ï¼Ÿå¦‚ä½•å®žçŽ°ï¼Ÿ

#### é˜²æŠ–

åŠ¨ä½œç»‘å®šäº‹ä»¶ï¼ŒåŠ¨ä½œå‘ç”ŸåŽä¸€å®šæ—¶é—´å†…è§¦å‘æ—¶é—´ï¼Œåœ¨è¿™æ®µæ—¶é—´å†…å¦‚æžœè¯¥åŠ¨ä½œåˆå‘ç”Ÿï¼Œåˆ™é‡æ–°ç­‰å¾…ä¸€å®šæ—¶é—´å†è§¦å‘äº‹ä»¶ã€‚

```javascript
/**
 * é˜²æŠ– debounce å®šæ—¶å™¨
 * @param fn {function} å›žè°ƒå‡½æ•°
 * @param wait {number} æ—¶é—´é—´éš”
 * @author wangxiaobai
 */
export function debounce (fn, wait) {
  let timer = null
  return () => {
    // æ¸…é™¤ä¸Šæ¬¡æ‰§è¡Œå¾—å®šæ—¶å™¨
    if (timer) {
      clearTimeout(timer)
    }
    // è®¾ç«‹æ–°å®šæ—¶å™¨
    timer = setTimeout(() => {
      fn.apply(this, arguments)
    }, wait)
  }
}
```

#### èŠ‚æµ

åŠ¨ä½œç»‘å®šäº‹ä»¶ï¼ŒåŠ¨ä½œå‘ç”ŸåŽä¸€å®šæ—¶é—´å†…è§¦å‘äº‹ä»¶ï¼Œåœ¨è¿™æ®µæ—¶é—´å†…å¦‚æžœè¯¥åŠ¨ä½œåˆå‘ç”Ÿï¼Œåˆ™æ— è§†è¯¥åŠ¨ä½œï¼Œç›´åˆ°äº‹ä»¶æ‰§è¡Œå®ŒåŽï¼Œæ‰èƒ½é‡æ–°è§¦å‘ã€‚

```javascript
/**
 * èŠ‚æµ throttle å®šæ—¶å™¨
 * @param fn {function} å›žè°ƒå‡½æ•°
 * @param wait {number} æ—¶é—´é—´éš”
 * @author wangxiaobai
 */
export function throttle (fn, wait) {
  // ä¸Šä¸€æ¬¡å‡½æ•°çš„æ‰§è¡Œæ—¶é—´  
  let activeTime = 0
  return () => {
      let currentTime = +new Date()
      if (currentTime - activeTime > wait) {
          fn.apply(this, arguments)
          activeTime = currentTime
      }
  }
}
```
