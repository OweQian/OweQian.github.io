
<!DOCTYPE html>
<html lang="" class="loading">
<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>é¢è¯•é¢˜-å¸¸è§é¢è¯•é¢˜ç³»åˆ—ä¹‹JSåŸºç¡€ - W | ä¸ªäººåšå®¢ | webå‰ç«¯</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="OweQian,"> 
    <meta name="description" content="å‰ç«¯,å¯¼è¯­æœ¬ç³»åˆ—æ—¨åœ¨æ•´ç† JS å¸¸è§é¢è¯•é¢˜ï¼Œå¸®åŠ©æ¢³ç† JS åŸºç¡€çŸ¥è¯†ç‚¹ã€‚
ğŸŒ° [â€˜1â€™, â€˜2â€™, â€˜3â€™].map(parseInt) è¾“å‡ºç»“æœparseIntè§£æä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å®šåŸºæ•°çš„æ•´,"> 
    <meta name="author" content="wangxiaobai"> 
    <link rel="alternative" href="atom.xml" title="W | ä¸ªäººåšå®¢ | webå‰ç«¯" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.ico"> 
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <link rel="stylesheet" href="/css/diaspora.css">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({
              google_ad_client: "ca-pub-8691406134231910",
              enable_page_level_ads: true
         });
    </script>
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body class="loading">
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><span id="config-title" style="display:none">W | ä¸ªäººåšå®¢ | webå‰ç«¯</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="icon-home image-icon" href="javascript:;" data-url="http://yoursite.com"></a>
    <div title="æ’­æ”¾/æš‚åœ" class="icon-play"></div>
    <h3 class="subtitle">é¢è¯•é¢˜-å¸¸è§é¢è¯•é¢˜ç³»åˆ—ä¹‹JSåŸºç¡€</h3>
    <div class="social">
        <!--<div class="like-icon">-->
            <!--<a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
        <!--</div>-->
        <div>
            <div class="share">
                <a title="è·å–äºŒç»´ç " class="icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class='main'>
        <h1 class="title">é¢è¯•é¢˜-å¸¸è§é¢è¯•é¢˜ç³»åˆ—ä¹‹JSåŸºç¡€</h1>
        <div class="stuff">
            <span>åä¸€æœˆ 25, 2019</span>
            
  <ul class="post-tags-list"><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/é¢è¯•é¢˜/">é¢è¯•é¢˜</a></li></ul>


        </div>
        <div class="content markdown">
            <h4 id="å¯¼è¯­"><a href="#å¯¼è¯­" class="headerlink" title="å¯¼è¯­"></a>å¯¼è¯­</h4><p>æœ¬ç³»åˆ—æ—¨åœ¨æ•´ç† JS å¸¸è§é¢è¯•é¢˜ï¼Œå¸®åŠ©æ¢³ç† JS åŸºç¡€çŸ¥è¯†ç‚¹ã€‚</p>
<h3 id="ğŸŒ°-â€˜1â€™-â€˜2â€™-â€˜3â€™-map-parseInt-è¾“å‡ºç»“æœ"><a href="#ğŸŒ°-â€˜1â€™-â€˜2â€™-â€˜3â€™-map-parseInt-è¾“å‡ºç»“æœ" class="headerlink" title="ğŸŒ° [â€˜1â€™, â€˜2â€™, â€˜3â€™].map(parseInt) è¾“å‡ºç»“æœ"></a>ğŸŒ° [â€˜1â€™, â€˜2â€™, â€˜3â€™].map(parseInt) è¾“å‡ºç»“æœ</h3><h4 id="parseInt"><a href="#parseInt" class="headerlink" title="parseInt"></a>parseInt</h4><p>è§£æä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å®šåŸºæ•°çš„æ•´æ•°ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> intValue = <span class="built_in">parseInt</span>(string[, radix]);</div></pre></td></tr></table></figure>
<p>string è¦è¢«è§£æçš„å€¼ã€‚å¦‚æœå‚æ•°ä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚å­—ç¬¦ä¸²å¼€å¤´çš„ç©ºç™½ç¬¦ä¼šè¢«å¿½ç•¥ã€‚</p>
<p>radix ä¸€ä¸ªä»‹äº 2~36ä¹‹é—´çš„æ•´æ•°ï¼Œè¡¨ç¤ºä¸Šè¿°å­—ç¬¦ä¸²çš„åŸºæ•°ï¼Œé»˜è®¤å€¼ä¸º 10ã€‚</p>
<p>parseInt è¿”å›ä¸€ä¸ªæ•´æ•°æˆ– NaNã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">parseInt</span>(<span class="number">100</span>); <span class="comment">// 100</span></div><div class="line"><span class="built_in">parseInt</span>(<span class="number">100</span>, <span class="number">10</span>); <span class="comment">// 1*10*10 + 0*10*1 + 0*10*0 = 100</span></div><div class="line"><span class="built_in">parseInt</span>(<span class="number">100</span>, <span class="number">2</span>); <span class="comment">// 1*2*2 + 0*2*1 + 0*2*0 = 4</span></div></pre></td></tr></table></figure>
<p>åœ¨ radix ä¸º undefined ï¼Œæˆ– radix ä¸º 0 æˆ–æ²¡æœ‰æŒ‡å®šçš„æƒ…å†µä¸‹ï¼ŒJS ä½œå¦‚ä¸‹å¤„ç†ï¼š</p>
<ul>
<li><p>string ä»¥ â€˜0xâ€™ æˆ– â€˜0Xâ€™ å¼€å¤´ï¼Œåˆ™ radix ä¸º 16ã€‚</p>
</li>
<li><p>string ä»¥ â€˜0â€™ å¼€å¤´ï¼Œradix ä¸º 8 æˆ–è€… 10ï¼Œå…·ä½“å“ªä¸ªåŸºæ•°ç”±å®ç°ç¯å¢ƒå†³å®šã€‚</p>
</li>
<li><p>string ä»¥å…¶å®ƒä»»ä½•å€¼å¼€å¤´ï¼Œåˆ™ radix ä¸º 10ã€‚</p>
</li>
</ul>
<h4 id="map"><a href="#map" class="headerlink" title="map"></a>map</h4><p>åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ç»“æœæ˜¯è¯¥æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨ä¸€ä¸ªæä¾›çš„å‡½æ•°åè¿”å›çš„ç»“æœã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> new_array = arr.map(<span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params">currentValue[,index[, array]]</span>) </span>&#123;</div><div class="line"> <span class="comment">// Return element for new_array</span></div><div class="line"> &#125;[, thisArg])</div></pre></td></tr></table></figure>
<p>callback å›è°ƒå‡½æ•°éœ€è¦ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸º currentValue(æ•°ç»„ä¸­å½“å‰æ­£åœ¨å¤„ç†çš„å…ƒç´ çš„å€¼)ã€index(æ•°ç»„ä¸­å½“å‰æ­£åœ¨å¤„ç†çš„å…ƒç´ çš„ç´¢å¼•)ã€array(map æ–¹æ³•ä¸­è¢«è°ƒç”¨çš„æ•°ç»„)ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</div><div class="line">arr.map(<span class="function"><span class="params">num</span> =&gt;</span> num * <span class="number">2</span>) <span class="comment">// [2, 4, 6]</span></div></pre></td></tr></table></figure>
<h4 id="â€˜1â€™-â€˜2â€™-â€˜3â€™-map-parseInt-è¾“å‡º"><a href="#â€˜1â€™-â€˜2â€™-â€˜3â€™-map-parseInt-è¾“å‡º" class="headerlink" title="[â€˜1â€™, â€˜2â€™, â€˜3â€™].map(parseInt) è¾“å‡º"></a>[â€˜1â€™, â€˜2â€™, â€˜3â€™].map(parseInt) è¾“å‡º</h4><p>å¯¹äºæ¯ä¸ªè¿­ä»£ mapï¼ŒparseInt() ä¼ é€’ä¸¤ä¸ªå‚æ•°ï¼šå­—ç¬¦ä¸²å’ŒåŸºæ•°ã€‚æ‰€ä»¥å®é™…æ‰§è¡Œçš„ä»£ç ä¸ºï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>].map(<span class="built_in">parseInt</span>(<span class="function">(<span class="params">item, index</span>) =&gt;</span> <span class="built_in">parseInt</span>(item, index))</div></pre></td></tr></table></figure>
<p>æ‰§è¡Œæ­¥éª¤ä¸ºï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">parseInt</span>(<span class="string">'1'</span>, <span class="number">0</span>); <span class="comment">// 1 (10 è¿›åˆ¶)</span></div><div class="line"><span class="built_in">parseInt</span>(<span class="string">'2'</span>, <span class="number">1</span>); <span class="comment">// NaN radix(2-36)</span></div><div class="line"><span class="built_in">parseInt</span>(<span class="string">'3'</span>, <span class="number">2</span>); <span class="comment">// NaN ä¸ç¬¦åˆ2è¿›åˆ¶ä½æ•°å–å€¼(0-1)</span></div></pre></td></tr></table></figure>
<p>æ‰€ä»¥ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>].map(<span class="built_in">parseInt</span>) <span class="comment">// [1, NaN, NaN]</span></div></pre></td></tr></table></figure>
<h3 id="ğŸŒ°-ä»€ä¹ˆæ˜¯èŠ‚æµå’Œé˜²æŠ–ï¼ŸåŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ"><a href="#ğŸŒ°-ä»€ä¹ˆæ˜¯èŠ‚æµå’Œé˜²æŠ–ï¼ŸåŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ" class="headerlink" title="ğŸŒ° ä»€ä¹ˆæ˜¯èŠ‚æµå’Œé˜²æŠ–ï¼ŸåŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ"></a>ğŸŒ° ä»€ä¹ˆæ˜¯èŠ‚æµå’Œé˜²æŠ–ï¼ŸåŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ</h3><h4 id="é˜²æŠ–"><a href="#é˜²æŠ–" class="headerlink" title="é˜²æŠ–"></a>é˜²æŠ–</h4><p>åŠ¨ä½œç»‘å®šäº‹ä»¶ï¼ŒåŠ¨ä½œå‘ç”Ÿåä¸€å®šæ—¶é—´å†…è§¦å‘æ—¶é—´ï¼Œåœ¨è¿™æ®µæ—¶é—´å†…å¦‚æœè¯¥åŠ¨ä½œåˆå‘ç”Ÿï¼Œåˆ™é‡æ–°ç­‰å¾…ä¸€å®šæ—¶é—´å†è§¦å‘äº‹ä»¶ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * é˜²æŠ– debounce å®šæ—¶å™¨</span></div><div class="line"><span class="comment"> * @param fn &#123;function&#125; å›è°ƒå‡½æ•°</span></div><div class="line"><span class="comment"> * @param wait &#123;number&#125; æ—¶é—´é—´éš”</span></div><div class="line"><span class="comment"> * @author wangxiaobai</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">debounce</span> (<span class="params">fn, wait</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> timer = <span class="literal">null</span>;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="comment">// æ¸…é™¤ä¸Šæ¬¡æ‰§è¡Œå¾—å®šæ—¶å™¨</span></div><div class="line">    <span class="keyword">if</span> (timer) &#123;</div><div class="line">      clearTimeout(timer);</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// è®¾ç«‹æ–°å®šæ—¶å™¨</span></div><div class="line">    timer = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">      fn.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</div><div class="line">    &#125;, wait);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="èŠ‚æµ"><a href="#èŠ‚æµ" class="headerlink" title="èŠ‚æµ"></a>èŠ‚æµ</h4><p>åŠ¨ä½œç»‘å®šäº‹ä»¶ï¼ŒåŠ¨ä½œå‘ç”Ÿåä¸€å®šæ—¶é—´å†…è§¦å‘äº‹ä»¶ï¼Œåœ¨è¿™æ®µæ—¶é—´å†…å¦‚æœè¯¥åŠ¨ä½œåˆå‘ç”Ÿï¼Œåˆ™æ— è§†è¯¥åŠ¨ä½œï¼Œç›´åˆ°äº‹ä»¶æ‰§è¡Œå®Œåï¼Œæ‰èƒ½é‡æ–°è§¦å‘ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * èŠ‚æµ throttle å®šæ—¶å™¨</span></div><div class="line"><span class="comment"> * @param fn &#123;function&#125; å›è°ƒå‡½æ•°</span></div><div class="line"><span class="comment"> * @param wait &#123;number&#125; æ—¶é—´é—´éš”</span></div><div class="line"><span class="comment"> * @author wangxiaobai</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">throttle</span> (<span class="params">fn, wait</span>) </span>&#123;</div><div class="line">  <span class="comment">// ä¸Šä¸€æ¬¡å‡½æ•°çš„æ‰§è¡Œæ—¶é—´  </span></div><div class="line">  <span class="keyword">let</span> activeTime = <span class="number">0</span>;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">      <span class="keyword">let</span> currentTime = +<span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">      <span class="keyword">if</span> (currentTime - activeTime &gt; wait) &#123;</div><div class="line">          fn.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</div><div class="line">          activeTime = currentTime;</div><div class="line">      &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="ğŸŒ°-Setã€Mapã€WeakSetã€WeakMap"><a href="#ğŸŒ°-Setã€Mapã€WeakSetã€WeakMap" class="headerlink" title="ğŸŒ° Setã€Mapã€WeakSetã€WeakMap"></a>ğŸŒ° Setã€Mapã€WeakSetã€WeakMap</h3><h4 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h4><p>ä¸€ç§å«åšé›†åˆçš„æ•°æ®ç»“æ„ï¼Œç±»ä¼¼äºæ•°ç»„ï¼Œæˆå‘˜å”¯ä¸€ä¸”æ— åºã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">new Set([iterable])</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>();</div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>].forEach(<span class="function"><span class="params">item</span> =&gt;</span> s.add(item));</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> s) &#123;</div><div class="line">    <span class="built_in">console</span>.log(item) <span class="comment">// 1 2 3 4</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>];</div><div class="line">[... new <span class="built_in">Set</span>(arr)]; <span class="comment">// [1, 2, 3]</span></div></pre></td></tr></table></figure>
<p>Set å…è®¸ä½ å­˜å‚¨ä»»ä½•ç±»å‹çš„å”¯ä¸€å€¼ï¼Œæ— è®ºæ˜¯åŸå§‹å€¼è¿˜æ˜¯å¯¹è±¡å¼•ç”¨ã€‚</p>
<p>å‘ Set åŠ å…¥å€¼çš„æ—¶å€™ï¼Œä¸ä¼šå‘ç”Ÿç±»å‹è½¬æ¢ï¼Œæ‰€ä»¥ 5 å’Œ â€˜5â€™ æ˜¯ä¸¤ä¸ªä¸åŒçš„å€¼ã€‚</p>
<p>åœ¨ Set ä¸­ï¼ŒNaN ç­‰äºè‡ªèº«ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>();</div><div class="line">set.add(<span class="literal">NaN</span>);</div><div class="line">set.add(<span class="literal">NaN</span>);</div><div class="line">set; <span class="comment">// &#123;NaN&#125; </span></div><div class="line"></div><div class="line"><span class="keyword">let</span> set1 = <span class="keyword">new</span> <span class="built_in">Set</span>();</div><div class="line">set1.add(<span class="number">5</span>);</div><div class="line">set1.add(<span class="string">'5'</span>);</div><div class="line">set; <span class="comment">// &#123;5, '5'&#125;</span></div></pre></td></tr></table></figure>
<ul>
<li>Set å®ä¾‹å±æ€§</li>
</ul>
<p>constructor: æ„é€ å‡½æ•°</p>
<p>size: å…ƒç´ æ•°é‡</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]);</div><div class="line"><span class="built_in">console</span>.log(set.size); <span class="comment">// 3</span></div></pre></td></tr></table></figure>
<ul>
<li>Set å®ä¾‹æ–¹æ³•</li>
</ul>
<p>æ“ä½œæ–¹æ³•ï¼š</p>
<p>add(value) æ–°å¢</p>
<p>delete(value) å­˜åœ¨å³åˆ é™¤é›†åˆä¸­çš„ value</p>
<p>has(value) åˆ¤æ–­é›†åˆä¸­æ˜¯å¦å­˜åœ¨ value</p>
<p>clear() æ¸…ç©ºé›†åˆ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>();</div><div class="line">set.add(<span class="number">1</span>).add(<span class="number">2</span>).add(<span class="number">1</span>);</div><div class="line"></div><div class="line">set.size; <span class="comment">// 2</span></div><div class="line">set.has(<span class="number">1</span>); <span class="comment">// true</span></div><div class="line">set.has(<span class="number">3</span>); <span class="comment">// false</span></div><div class="line">set.delete(<span class="number">1</span>);</div><div class="line">set.has(<span class="number">1</span>); <span class="comment">// false</span></div><div class="line">set.clear();</div><div class="line">set.size; <span class="comment">// 0</span></div></pre></td></tr></table></figure>
<p>Array.from å¯ä»¥å°† Set ç»“æ„è½¬åŒ–ä¸ºæ•°ç»„    </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> items = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>]);</div><div class="line"><span class="keyword">const</span> array = <span class="built_in">Array</span>.from(items);</div><div class="line"><span class="built_in">console</span>.log(array); <span class="comment">// [1, 2, 3]</span></div><div class="line"></div><div class="line"><span class="comment">// æˆ–</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> arr = [...items]</div><div class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// [1, 2, 3]</span></div></pre></td></tr></table></figure>
<p>éå†æ–¹æ³•ï¼š</p>
<p>keys() è¿”å›ä¸€ä¸ªåŒ…å«é›†åˆä¸­æ‰€æœ‰é”®çš„è¿­ä»£å™¨</p>
<p>values() è¿”å›ä¸€ä¸ªåŒ…å«é›†åˆä¸­æ‰€æœ‰å€¼çš„è¿­ä»£å™¨</p>
<p>entries() è¿”å›ä¸€ä¸ªåŒ…å«é›†åˆä¸­æ‰€æœ‰é”®å€¼å¯¹çš„è¿­ä»£å™¨</p>
<p>forEach(callbackFn, thisArg)</p>
<p>map(callbackFn, thisArg)</p>
<p>filter(callbackFn, thisArg)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</div><div class="line"><span class="built_in">console</span>.log(set.keys()); <span class="comment">// SetIterator &#123;1, 2, 3&#125;</span></div><div class="line"><span class="built_in">console</span>.log(set.values()); <span class="comment">// SetIterator &#123;1, 2, 3&#125;</span></div><div class="line"><span class="built_in">console</span>.log(set.entries()); <span class="comment">// SetIterator &#123;1 =&gt; 1, 2 =&gt; 2, 3 =&gt; 3&#125;</span></div><div class="line">set.forEach(<span class="function">(<span class="params">value, key</span>) =&gt;</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(key + <span class="string">' : '</span> + value);</div><div class="line">&#125;);	<span class="comment">// 1:1 2:2 3:3</span></div><div class="line">set = <span class="keyword">new</span> <span class="built_in">Set</span>([...set].map(<span class="function"><span class="params">item</span> =&gt;</span> item * <span class="number">2</span>));</div><div class="line"><span class="built_in">console</span>.log(set);	<span class="comment">// &#123;2, 4, 6&#125;</span></div><div class="line"></div><div class="line">set = <span class="keyword">new</span> <span class="built_in">Set</span>([...set].filter(<span class="function"><span class="params">item</span> =&gt;</span> (item &gt;= <span class="number">4</span>)));</div><div class="line"><span class="built_in">console</span>.log(set);	<span class="comment">// &#123;4, 6&#125;</span></div></pre></td></tr></table></figure>
<p>å› æ­¤ï¼ŒSet å¾ˆå®¹æ˜“å®ç°ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†ã€å¹¶é›†ã€å·®é›†</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> set1 = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</div><div class="line"><span class="keyword">let</span> set2 = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>]);</div><div class="line"></div><div class="line"><span class="keyword">let</span> intersect = <span class="keyword">new</span> <span class="built_in">Set</span>([...set1].filter(<span class="function"><span class="params">value</span> =&gt;</span> set2.has(value)));</div><div class="line"><span class="keyword">let</span> union = <span class="keyword">new</span> <span class="built_in">Set</span>([...set1, ...set2]);</div><div class="line"><span class="keyword">let</span> difference = <span class="keyword">new</span> <span class="built_in">Set</span>([...set1].filter(<span class="function"><span class="params">value</span> =&gt;</span> !set2.has(value)));</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(intersect); <span class="comment">// &#123;2, 3&#125;</span></div><div class="line"><span class="built_in">console</span>.log(union); <span class="comment">// &#123;1, 2, 3, 4&#125;</span></div><div class="line"><span class="built_in">console</span>.log(difference); <span class="comment">// &#123;1&#125;</span></div></pre></td></tr></table></figure>
<h4 id="WeakSet"><a href="#WeakSet" class="headerlink" title="WeakSet"></a>WeakSet</h4><p>å…è®¸ä½ å°†å¼±å¼•ç”¨å¯¹è±¡å‚¨å­˜åœ¨ä¸€ä¸ªé›†åˆä¸­ã€‚</p>
<p>WeakSet ä¸ Set çš„åŒºåˆ«ï¼š</p>
<ul>
<li><p>WeakSet åªèƒ½å‚¨å­˜å¯¹è±¡å¼•ç”¨ï¼Œä¸èƒ½å­˜æ”¾å€¼ï¼Œè€Œ Set å¯¹è±¡éƒ½å¯ä»¥</p>
</li>
<li><p>WeakSet ä¸­å‚¨å­˜çš„å¯¹è±¡å€¼éƒ½æ˜¯è¢«å¼±å¼•ç”¨çš„ï¼Œå³åƒåœ¾å›æ”¶æœºåˆ¶ä¸è€ƒè™‘ WeakSet å¯¹è¯¥å¯¹è±¡çš„å¼•ç”¨ï¼Œå¦‚æœæ²¡æœ‰å…¶å®ƒçš„å˜é‡æˆ–å±æ€§å¼•ç”¨è¿™ä¸ªå¯¹è±¡å€¼ï¼Œåˆ™è¿™ä¸ªå¯¹è±¡æˆ–è¢«åƒåœ¾å›æ”¶æ‰</p>
</li>
</ul>
<p>å±æ€§ï¼š</p>
<p>constructor: æ„é€ å‡½æ•°</p>
<p>æ–¹æ³•ï¼š</p>
<p>add(value) æ·»åŠ å…ƒç´  value</p>
<p>has(value) åˆ¤æ–­æ˜¯å¦åŒ…å« value</p>
<p>delete(value) åˆ é™¤ value</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> ws = <span class="keyword">new</span> <span class="built_in">WeakSet</span>();</div><div class="line"><span class="keyword">var</span> obj = &#123;&#125;</div><div class="line"><span class="keyword">var</span> foo = &#123;&#125;</div><div class="line"></div><div class="line">ws.add(obj);</div><div class="line">ws.add(foo);</div><div class="line"></div><div class="line">ws.has(obj); <span class="comment">// true</span></div><div class="line">ws.has(foo); <span class="comment">// false</span></div><div class="line"></div><div class="line">ws.delete(obj);</div><div class="line">ws.has(obj); <span class="comment">// false</span></div></pre></td></tr></table></figure>
<h4 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h4><p>ä¸€ç§å«åšå­—å…¸çš„æ•°æ®ç»“æ„ï¼Œä»¥ [key, value] çš„å½¢å¼å­˜å‚¨</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>();</div><div class="line"><span class="keyword">const</span> o = &#123;</div><div class="line">    p: <span class="string">'haha'</span></div><div class="line">&#125;;</div><div class="line">m.set(o, <span class="string">'content'</span>);</div><div class="line">m.get(o); <span class="comment">// 'content'</span></div><div class="line"></div><div class="line">m.has(o); <span class="comment">// true</span></div><div class="line">m.delete(o);</div><div class="line">m.has(o); <span class="comment">// false</span></div></pre></td></tr></table></figure>
<p>ä»»ä½•å…·æœ‰ Iterator æ¥å£ï¼Œæ¯ä¸ªæˆå‘˜éƒ½æ˜¯ä¸€ä¸ªåŒå…ƒç´ çš„æ•°ç»„çš„æ•°æ®ç»“æ„éƒ½å¯ä»¥å½“åš Map æ„é€ å‡½æ•°çš„å‚æ•°ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([</div><div class="line">  [<span class="string">'name'</span>, <span class="string">'å¼ ä¸‰'</span>],</div><div class="line">  [<span class="string">'title'</span>, <span class="string">'Author'</span>]</div><div class="line">]);</div><div class="line"></div><div class="line">map.size; <span class="comment">// 2</span></div><div class="line">map.has(<span class="string">'name'</span>); <span class="comment">// true</span></div><div class="line">map.get(<span class="string">'name'</span>); <span class="comment">// "å¼ ä¸‰"</span></div><div class="line">map.has(<span class="string">'title'</span>); <span class="comment">// true</span></div><div class="line">map.get(<span class="string">'title'</span>); <span class="comment">// "Author"</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([</div><div class="line">  [<span class="string">'foo'</span>, <span class="number">1</span>],</div><div class="line">  [<span class="string">'bar'</span>, <span class="number">2</span>]</div><div class="line">]);</div><div class="line"><span class="keyword">const</span> m1 = <span class="keyword">new</span> <span class="built_in">Map</span>(set);</div><div class="line">m1.get(<span class="string">'foo'</span>); <span class="comment">// 1</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> m2 = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">'baz'</span>, <span class="number">3</span>]]);</div><div class="line"><span class="keyword">const</span> m3 = <span class="keyword">new</span> <span class="built_in">Map</span>(m2);</div><div class="line">m3.get(<span class="string">'baz'</span>); <span class="comment">// 3</span></div></pre></td></tr></table></figure>
<p>å¦‚æœè¯»å–ä¸€ä¸ªæœªçŸ¥çš„é”®ï¼Œåˆ™è¿”å›undefinedã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">new</span> <span class="built_in">Map</span>().get(<span class="string">'asfddfsasadf'</span>); <span class="comment">// undefined</span></div></pre></td></tr></table></figure>
<p>åªæœ‰å¯¹åŒä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼ŒMap ç»“æ„æ‰å°†å…¶è§†ä¸ºåŒä¸€ä¸ªé”®ã€‚è¿™ä¸€ç‚¹è¦éå¸¸å°å¿ƒã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</div><div class="line"></div><div class="line">map.set([<span class="string">'a'</span>], <span class="number">555</span>);</div><div class="line">map.get([<span class="string">'a'</span>]); <span class="comment">// undefined</span></div></pre></td></tr></table></figure>
<p>Map çš„é”®æ˜¯ä¸€ä¸ªç®€å•ç±»å‹çš„å€¼ï¼ˆæ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼‰ï¼Œåˆ™åªè¦ä¸¤ä¸ªå€¼ä¸¥æ ¼ç›¸ç­‰ï¼ŒMap å°†å…¶è§†ä¸ºä¸€ä¸ªé”®ï¼Œæ¯”å¦‚0å’Œ-0å°±æ˜¯ä¸€ä¸ªé”®ï¼Œå¸ƒå°”å€¼trueå’Œå­—ç¬¦ä¸²trueåˆ™æ˜¯ä¸¤ä¸ªä¸åŒçš„é”®ã€‚å¦å¤–ï¼Œundefinedå’Œnullä¹Ÿæ˜¯ä¸¤ä¸ªä¸åŒçš„é”®ã€‚è™½ç„¶NaNä¸ä¸¥æ ¼ç›¸ç­‰äºè‡ªèº«ï¼Œä½† Map å°†å…¶è§†ä¸ºåŒä¸€ä¸ªé”®ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</div><div class="line"></div><div class="line">map.set(<span class="number">-0</span>, <span class="number">123</span>);</div><div class="line">map.get(+<span class="number">0</span>); <span class="comment">// 123</span></div><div class="line"></div><div class="line">map.set(<span class="literal">true</span>, <span class="number">1</span>);</div><div class="line">map.set(<span class="string">'true'</span>, <span class="number">2</span>);</div><div class="line">map.get(<span class="literal">true</span>); <span class="comment">// 1</span></div><div class="line"></div><div class="line">map.set(<span class="literal">undefined</span>, <span class="number">3</span>);</div><div class="line">map.set(<span class="literal">null</span>, <span class="number">4</span>);</div><div class="line">map.get(<span class="literal">undefined</span>); <span class="comment">// 3</span></div><div class="line"></div><div class="line">map.set(<span class="literal">NaN</span>, <span class="number">123</span>);</div><div class="line">map.get(<span class="literal">NaN</span>); <span class="comment">// 123</span></div></pre></td></tr></table></figure>
<p>å±æ€§ï¼š</p>
<p>constructorï¼šæ„é€ å‡½æ•°</p>
<p>size: å­—å…¸ä¸­æ‰€åŒ…å«çš„å…ƒç´ ä¸ªæ•°</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([</div><div class="line">  [<span class="string">'name'</span>, <span class="string">'An'</span>],</div><div class="line">  [<span class="string">'des'</span>, <span class="string">'JS'</span>]</div><div class="line">]);</div><div class="line"></div><div class="line">map.size; <span class="comment">// 2</span></div></pre></td></tr></table></figure>
<p>æ“ä½œæ–¹æ³•ï¼š</p>
<p>set(key, value) æ·»åŠ æ–°å…ƒç´ </p>
<p>get(key) é€šè¿‡é”®æŸ¥æ‰¾ç‰¹å®šçš„æ•°å€¼å¹¶è¿”å›</p>
<p>has(key) åˆ¤æ–­å­—å…¸ä¸­æ˜¯å¦å­˜åœ¨ key</p>
<p>delete(key) é€šè¿‡é”® key ä»å­—å…¸ä¸­ç§»é™¤å¯¹åº”çš„æ•°æ®</p>
<p>clear() å­—å…¸ä¸­æ‰€æœ‰å…ƒç´ åˆ é™¤</p>
<p>éå†æ–¹æ³•ï¼š</p>
<p>keys() å°†å­—å…¸ä¸­åŒ…å«çš„æ‰€æœ‰é”®åä»¥è¿­ä»£å™¨å½¢å¼è¿”å›</p>
<p>values() å°†å­—å…¸ä¸­åŒ…å«çš„æ‰€æœ‰æ•°å€¼ä»¥è¿­ä»£å™¨å½¢å¼è¿”å›</p>
<p>entries() è¿”å›æ‰€æœ‰æˆå‘˜çš„è¿­ä»£å™¨</p>
<p>forEach() éå†å­—å…¸çš„æ‰€æœ‰æˆå‘˜</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([</div><div class="line">            [<span class="string">'name'</span>, <span class="string">'An'</span>],</div><div class="line">            [<span class="string">'des'</span>, <span class="string">'JS'</span>]</div><div class="line">        ]);</div><div class="line"><span class="built_in">console</span>.log(map.entries());	<span class="comment">// MapIterator &#123;"name" =&gt; "An", "des" =&gt; "JS"&#125;</span></div><div class="line"><span class="built_in">console</span>.log(map.keys()); <span class="comment">// MapIterator &#123;"name", "des"&#125;</span></div></pre></td></tr></table></figure>
<p>ä¸å…¶å®ƒæ•°æ®ç»“æ„ç›¸äº’è½¬æ¢</p>
<ol>
<li>Map è½¬ Array</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="number">1</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">3</span>]])</div><div class="line"><span class="built_in">console</span>.log([...map]); <span class="comment">// [[1, 1], [2, 2], [3, 3]]</span></div></pre></td></tr></table></figure>
<ol>
<li>Array è½¬ map</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="number">1</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">3</span>]])</div><div class="line"><span class="built_in">console</span>.log(map);	<span class="comment">// Map &#123;1 =&gt; 1, 2 =&gt; 2, 3 =&gt; 3&#125;</span></div></pre></td></tr></table></figure>
<ol>
<li>Map è½¬ Object</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">mapToObj</span>(<span class="params">map</span>) </span>&#123;</div><div class="line">    <span class="keyword">let</span> obj = <span class="built_in">Object</span>.create(<span class="literal">null</span>);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> map) &#123;</div><div class="line">        obj[key] = value;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> obj</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>().set(<span class="string">'name'</span>, <span class="string">'An'</span>).set(<span class="string">'des'</span>, <span class="string">'JS'</span>);</div><div class="line">mapToObj(map);  <span class="comment">// &#123;name: "An", des: "JS"&#125;</span></div></pre></td></tr></table></figure>
<ol>
<li>Object è½¬ Map</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">objToMap</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">of</span> obj.keys()) &#123;</div><div class="line">        map.set(key, obj[key])</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> map</div><div class="line">&#125;</div><div class="line">objToMap(&#123;<span class="string">'name'</span>: <span class="string">'An'</span>, <span class="string">'des'</span>: <span class="string">'JS'</span>&#125;) <span class="comment">// Map &#123;"name" =&gt; "An", "des" =&gt; "JS"&#125;</span></div></pre></td></tr></table></figure>
<ol>
<li>Map è½¬ JSON</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">mapToJson</span>(<span class="params">map</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">JSON</span>.stringify([...map]);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>().set(<span class="string">'name'</span>, <span class="string">'An'</span>).set(<span class="string">'des'</span>, <span class="string">'JS'</span>);</div><div class="line">mapToJson(map);	<span class="comment">// [["name","An"],["des","JS"]]</span></div></pre></td></tr></table></figure>
<ol>
<li>JSON è½¬ Map</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">jsonToStrMap</span>(<span class="params">jsonStr</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> objToMap(<span class="built_in">JSON</span>.parse(jsonStr));</div><div class="line">&#125;</div><div class="line"></div><div class="line">jsonToStrMap(<span class="string">'&#123;"name": "An", "des": "JS"&#125;'</span>); <span class="comment">// Map &#123;"name" =&gt; "An", "des" =&gt; "JS"&#125;</span></div></pre></td></tr></table></figure>
<h4 id="WeakMap"><a href="#WeakMap" class="headerlink" title="WeakMap"></a>WeakMap</h4><p>WeakMap å¯¹è±¡æ˜¯ä¸€ç»„é”®å€¼å¯¹çš„é›†åˆï¼Œå…¶ä¸­é”®æ˜¯å¼±å¼•ç”¨å¯¹è±¡ï¼Œè€Œå€¼å¯ä»¥æ˜¯ä»»æ„ã€‚</p>
<p>æ¯ä¸ªé”®å¯¹è‡ªå·±æ‰€å¼•ç”¨å¯¹è±¡çš„å¼•ç”¨éƒ½æ˜¯å¼±å¼•ç”¨ï¼Œåœ¨æ²¡æœ‰å…¶ä»–å¼•ç”¨å’Œè¯¥é”®å¼•ç”¨åŒä¸€å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°†ä¼šè¢«åƒåœ¾å›æ”¶ã€‚</p>
<p>å±æ€§ï¼š</p>
<p>constructor: æ„é€ å‡½æ•°</p>
<p>æ–¹æ³•ï¼š</p>
<p>has(key)ï¼šåˆ¤æ–­æ˜¯å¦æœ‰ key å…³è”å¯¹è±¡</p>
<p>get(key)ï¼šè¿”å›keyå…³è”å¯¹è±¡ï¼ˆæ²¡æœ‰åˆ™åˆ™è¿”å› undefinedï¼‰</p>
<p>set(key)ï¼šè®¾ç½®ä¸€ç»„keyå…³è”å¯¹è±¡</p>
<p>delete(key)ï¼šç§»é™¤ key çš„å…³è”å¯¹è±¡</p>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><ul>
<li>Set</li>
</ul>
<p>æˆå‘˜å”¯ä¸€ã€æ— åº</p>
<p>å¯ä»¥éå†</p>
<ul>
<li>WeakSet</li>
</ul>
<p>æˆå‘˜éƒ½æ˜¯å¯¹è±¡</p>
<p>æˆå‘˜éƒ½æ˜¯å¼±å¼•ç”¨ï¼Œå¯ä»¥è¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶</p>
<p>ä¸èƒ½éå†</p>
<ul>
<li>Map</li>
</ul>
<p>æœ¬è´¨æ˜¯é”®å€¼å¯¹çš„é›†åˆ</p>
<p>å¯ä»¥éå†</p>
<ul>
<li>WeakMap</li>
</ul>
<p>åªæ¥å—å¯¹è±¡ä½œä¸ºé”®å</p>
<p>é”®åæ˜¯å¼±å¼•ç”¨ï¼Œé”®å€¼å¯ä»¥æ˜¯ä»»æ„çš„ï¼Œé”®åæ‰€æŒ‡å‘çš„å¯¹è±¡å¯ä»¥è¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶</p>
<p>ä¸èƒ½éå†</p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        
                            <li title='0' data-url='https://link.hhtjim.com/kw/170.mp3'></li>
                        
                    
                </ul>
            
        </div>
        
    <div id='gitalk-container' class="comment link"
        data-ae='false'
        data-ci=''
        data-cs=''
        data-r=''
        data-o=''
        data-a=''
        data-d='false'
    >æŸ¥çœ‹è¯„è®º</div>


    </div>
    
</div>


    </div>
</div><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/diaspora.js"></script>
<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">
<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>




</html>
