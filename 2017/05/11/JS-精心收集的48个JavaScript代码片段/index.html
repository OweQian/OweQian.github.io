
<!DOCTYPE html>
<html lang="" class="loading">
<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>JS-精心收集的48个JavaScript代码片段 - W | 个人博客 | web前端</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="OweQian,"> 
    <meta name="description" content="前端,导语
该文章摘自Github用户Chalarangelo，目前已在Github上获得了5K多个star，精心收集了多达48个有用的JavaScript代码片段。


Anagrams of stri,"> 
    <meta name="author" content="wangxiaobai"> 
    <link rel="alternative" href="atom.xml" title="W | 个人博客 | web前端" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.ico"> 
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <link rel="stylesheet" href="/css/diaspora.css">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({
              google_ad_client: "ca-pub-8691406134231910",
              enable_page_level_ads: true
         });
    </script>
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body class="loading">
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><span id="config-title" style="display:none">W | 个人博客 | web前端</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="icon-home image-icon" href="javascript:;" data-url="http://yoursite.com"></a>
    <div title="播放/暂停" class="icon-play"></div>
    <h3 class="subtitle">JS-精心收集的48个JavaScript代码片段</h3>
    <div class="social">
        <!--<div class="like-icon">-->
            <!--<a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
        <!--</div>-->
        <div>
            <div class="share">
                <a title="获取二维码" class="icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class='main'>
        <h1 class="title">JS-精心收集的48个JavaScript代码片段</h1>
        <div class="stuff">
            <span>五月 11, 2017</span>
            
  <ul class="post-tags-list"><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>


        </div>
        <div class="content markdown">
            <h4 id="导语"><a href="#导语" class="headerlink" title="导语"></a>导语</h4><blockquote>
<p>该文章摘自Github用户Chalarangelo，目前已在Github上获得了5K多个star，精心收集了多达48个有用的JavaScript代码片段。</p>
</blockquote>
<a id="more"></a>
<h2 id="Anagrams-of-string-带有重复项"><a href="#Anagrams-of-string-带有重复项" class="headerlink" title="Anagrams of string(带有重复项)"></a>Anagrams of string(带有重复项)</h2><p>使用递归，对于给定字符串中的每个字母，为字母创建字谜。使用map()将字母与每部分字谜结合，然后使用reduce()将所有字谜组合到一个数据中，最基本情况是字符串长度等于2或1。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">const anagrams = str =&gt; &#123;</div><div class="line">    if (str.length &lt;= 2) return str.length === 2 ? [str, str[1] + str[0]] : [str];</div><div class="line">    return str.split(&apos;&apos;).reduce((acc, letter, i) =&gt; &#123;</div><div class="line">        acc.concat(anagrams(str.slice(0, 1) + str.slice(i + 1)).map(val =&gt; letter + val))&#125;, []);</div><div class="line">&#125;;</div><div class="line">// anagrams(&apos;abc&apos;) -&gt; [&apos;abc&apos;,&apos;acb&apos;,&apos;bac&apos;,&apos;bca&apos;,&apos;cab&apos;,&apos;cba&apos;]</div></pre></td></tr></table></figure>
<hr>
<h2 id="数组平均值"><a href="#数组平均值" class="headerlink" title="数组平均值"></a>数组平均值</h2><p>使用reduce()将每个值添加到累加器，初始值为0，总和除以数组长度。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const average = arr =&gt; arr.reduce((acc, val) =&gt; acc + val, 0) / arr.length;</div><div class="line">// avarage([1, 2, 3]) -&gt; 2</div></pre></td></tr></table></figure>
<hr>
<h2 id="大写每个单词的首字母"><a href="#大写每个单词的首字母" class="headerlink" title="大写每个单词的首字母"></a>大写每个单词的首字母</h2><p>使用replace()匹配每个单词的第一个字符，并使用toUpperCase()来将其大写。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const capitalizeEveryWord = str =&gt; str.replace(/\b[a-z]/g, char =&gt; char.toUpperCase());</div><div class="line">// capitalizeEveryWord(&apos;hello world!&apos;) -&gt; &apos;Hello World!&apos;</div></pre></td></tr></table></figure>
<hr>
<h2 id="首字母大写"><a href="#首字母大写" class="headerlink" title="首字母大写"></a>首字母大写</h2><p>使用slice (0,1)和toUpperCase ()大写第一个字母，slice (1)获取字符串的其余部分。省略lowerRest参数以保持字符串的其余部分不变，或将其设置为true以转换为小写。(注：这和上一示例不是同一件事情)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">const capitalize = (str, lowerRest = false) =&gt; &#123;</div><div class="line">    str.slice(0, 1).toUpperCase() + (lowerRest ? str.slice(1).toLowerCase() : str.slice(1));</div><div class="line">&#125;</div><div class="line">// capitalize(&apos;myName&apos;, true) -&gt; &apos;Myname&apos;</div></pre></td></tr></table></figure>
<hr>
<h2 id="检查回文"><a href="#检查回文" class="headerlink" title="检查回文"></a>检查回文</h2><p>将字符串转换为toLowerCase ()，并使用replace ()从中删除非字母的字符串。然后，将其转换为toLowerCase ()，将(‘’)拆分为单独字符，reverse ()，join (‘’)，与原始的非反转字符串进行比较，然后将其转换为toLowerCase ()。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">const palindrome = str =&gt; &#123;</div><div class="line">    const s = str.toLowerCase().replace(/[\W_]/g, &apos;&apos;);</div><div class="line">    return s === s.split(&apos;&apos;).reverse().join(&apos;&apos;);</div><div class="line">&#125;</div><div class="line">// palindrome(&apos;taco cat&apos;) -&gt; true</div></pre></td></tr></table></figure>
<hr>
<h2 id="计算数组中值的出现次数"><a href="#计算数组中值的出现次数" class="headerlink" title="计算数组中值的出现次数"></a>计算数组中值的出现次数</h2><p>每次遇到数组中的特别值时，使用reduce()来递增计数器。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const countOccurrences = (arr, value) =&gt; arr.reduce((a, v) =&gt; v === value ? a + 1:a + 0, 0);</div><div class="line">// countOccurrences([1, 1, 2, 1, 2, 3], 1) -&gt; 3</div></pre></td></tr></table></figure>
<hr>
<h2 id="当前URL"><a href="#当前URL" class="headerlink" title="当前URL"></a>当前URL</h2><p>使用windows.location.href来获取当前URL。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const currentUrl = () =&gt; return window.location.href;</div><div class="line">// currentUrl() -&gt; &apos;https://google.com&apos;</div></pre></td></tr></table></figure>
<hr>
<h2 id="Curry"><a href="#Curry" class="headerlink" title="Curry"></a>Curry</h2><p>使用递归。如果提供的参数(args)数量足够，则调用传递函数f，否则返回一个curried函数f。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">const curry = (fn, arity = fn.length, ...args) =&gt; &#123;</div><div class="line">    arity &lt;= args.length ? fn(...args) : curry.bind(null, fn, arity, ...args);</div><div class="line">&#125;</div><div class="line">// curry(Math.pow)(2)(10) -&gt; 1024</div><div class="line">// curry(Math.min, 3)(10)(50)(2) -&gt; 2</div></pre></td></tr></table></figure>
<hr>
<h2 id="Deep-flatten-array"><a href="#Deep-flatten-array" class="headerlink" title="Deep flatten array"></a>Deep flatten array</h2><p>使用递归，使用reduce()来获取所有不是数组的元素，flatten每个元素都是数组。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">const deepFlatten = arr =&gt; &#123;</div><div class="line">    arr.reduce((a, v) =&gt; a.concat(Array.isArray(v) ? deepFlatten(v) : v), []);</div><div class="line">&#125;</div><div class="line">// deepFlatten([1, [2], [[3], 4], 5]) -&gt; [1, 2, 3, 4, 5]</div></pre></td></tr></table></figure>
<hr>
<h2 id="数组之间的区别"><a href="#数组之间的区别" class="headerlink" title="数组之间的区别"></a>数组之间的区别</h2><p>从b创建一个Set，然后在a上使用Array.filter()，只保留b中不包含的值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">const difference = (a, b) =&gt; &#123;</div><div class="line">    const s = new Set(b);</div><div class="line">    return a.filter(x =&gt; !s.has(x))</div><div class="line">&#125;</div><div class="line">// difference([1, 2, 3], [1, 2]) -&gt; [3]</div></pre></td></tr></table></figure>
<hr>
<h2 id="两点之间的距离"><a href="#两点之间的距离" class="headerlink" title="两点之间的距离"></a>两点之间的距离</h2><p>使用Math.hypot()计算两点之间的欧几里德距离。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const distance = (x0, y0, x1, y1) =&gt; Math.hypot(x1 - x0, y1 - y0);</div><div class="line">// distance(1,1, 2,3) -&gt; 2.23606797749979</div></pre></td></tr></table></figure>
<hr>
<h2 id="可以按数字整除"><a href="#可以按数字整除" class="headerlink" title="可以按数字整除"></a>可以按数字整除</h2><p>使用模运算符(%)来检查余数是否等于0。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const isDivisible = (dividend, divisor) =&gt; dividend % divisor === 0;</div><div class="line">// isDivisible(6, 3) -&gt; true</div></pre></td></tr></table></figure>
<hr>
<h2 id="转义正则表达式"><a href="#转义正则表达式" class="headerlink" title="转义正则表达式"></a>转义正则表达式</h2><p>使用replace()来转义特殊字符。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const escapeRegExp = str =&gt; str.replace(/[.*+?^$&#123;&#125;()|[\]\\]/g, &apos;\\$&amp;&apos;);</div><div class="line">// escapeRegExp(&apos;(test)&apos;) -&gt; \\(test\\)</div></pre></td></tr></table></figure>
<hr>
<h2 id="偶数或奇数"><a href="#偶数或奇数" class="headerlink" title="偶数或奇数"></a>偶数或奇数</h2><p>使用Math.abs()将逻辑扩展为负数，使用模(%)运算符进行检查。如果数字是偶数，则返回true；如果数字是奇数，则返回false。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const isEven = num =&gt; Math.abs(num) % 2 === 0;</div><div class="line">// isEven(3) -&gt; false</div></pre></td></tr></table></figure>
<hr>
<h2 id="阶乘"><a href="#阶乘" class="headerlink" title="阶乘"></a>阶乘</h2><p>使用递归。如果n小于或等于1，则返回1。否则返回n和n-1的阶乘的乘积。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const factorial = n =&gt; n &lt;=1 ? 1 : n * factorial(n - 1);</div><div class="line">// factorial(6) -&gt; 720</div></pre></td></tr></table></figure>
<hr>
<h2 id="斐波那契数组生成器"><a href="#斐波那契数组生成器" class="headerlink" title="斐波那契数组生成器"></a>斐波那契数组生成器</h2><p>创建一个特定长度的空数组，初始化前两个值(0和1)。使用Array.reduce()向数组中添加值，后面的一个数等于前面两个数相加之和(前两个除外)。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">const fibonacci = n =&gt;</div><div class="line">  Array(n).fill(0).reduce((acc, val, i) =&gt; acc.concat(i &gt; 1 ? acc[i - 1] + acc[i - 2] : i), []);</div><div class="line">// fibonacci(5) -&gt; [0,1,1,2,3]</div></pre></td></tr></table></figure>
<hr>
<h2 id="过滤数组中的非唯一值"><a href="#过滤数组中的非唯一值" class="headerlink" title="过滤数组中的非唯一值"></a>过滤数组中的非唯一值</h2><p>将Array.filter() 用于仅包含唯一值得数组。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const filterNonUnique = arr =&gt; arr.filter(i =&gt; arr.indexOf(i) === arr.lastIndexOf(i));</div><div class="line">// filterNonUnique([1, 2, 3, 2, 4, 4, 5]) -&gt; [1, 3, 5]</div></pre></td></tr></table></figure>
<hr>
<h2 id="Flatten数组"><a href="#Flatten数组" class="headerlink" title="Flatten数组"></a>Flatten数组</h2><p>使用reduce()来获取数组中的所有元素，并使用concat()来使它们flatten。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const flatten = arr =&gt; arr.reduce((a, v) =&gt; a.concat(v), []);</div><div class="line">// flatten([1,[2],3,4]) -&gt; [1,2,3,4]</div></pre></td></tr></table></figure>
<hr>
<h2 id="从数组中获取最大值"><a href="#从数组中获取最大值" class="headerlink" title="从数组中获取最大值"></a>从数组中获取最大值</h2><p>用Math.max()与spread运算符(…)结合得到数组中的最大值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const arrayMax = arr =&gt; Math.max(...arr);</div><div class="line">// arrayMax([10, 1, 5]) -&gt; 10</div></pre></td></tr></table></figure>
<hr>
<h2 id="从数组中获取最小值"><a href="#从数组中获取最小值" class="headerlink" title="从数组中获取最小值"></a>从数组中获取最小值</h2><p>使用Math.min()与spread运算符(…)结合得到数组中的最小值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const arrayMin = arr =&gt; Math.min(...arr);</div><div class="line">// arrayMin([10, 1, 5]) -&gt; 1</div></pre></td></tr></table></figure>
<hr>
<h2 id="获取滚动位置"><a href="#获取滚动位置" class="headerlink" title="获取滚动位置"></a>获取滚动位置</h2><p>如果已定义，请使用pageXOffset和pageYOffset，否则使用scrollLeft和scrollTop，可以省略el来使用window的默认值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">const getScrollPos = (el = window) =&gt;</div><div class="line">  (&#123;x: (el.pageXOffset !== undefined) ? el.pageXOffset : el.scrollLeft,</div><div class="line">    y: (el.pageYOffset !== undefined) ? el.pageYOffset : el.scrollTop&#125;);</div><div class="line">// getScrollPos() -&gt; &#123;x: 0, y: 200&#125;</div></pre></td></tr></table></figure>
<hr>
<h2 id="最大公约数-GCD"><a href="#最大公约数-GCD" class="headerlink" title="最大公约数(GCD)"></a>最大公约数(GCD)</h2><p>使用递归。基本情况是当y等于0时。在这种情况下，返回x。否则，返回y的GCD和x / y的其余部分。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const gcd = (x, y) =&gt; !y ? x : gcd(y, x % y);</div><div class="line">// gcd (8, 36) -&gt; 4</div></pre></td></tr></table></figure>
<hr>
<h2 id="Head-of-list"><a href="#Head-of-list" class="headerlink" title="Head of list"></a>Head of list</h2><p>返回ARR[0]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const head = arr =&gt; arr[0];</div><div class="line">// head([1,2,3]) -&gt; 1</div></pre></td></tr></table></figure>
<hr>
<h2 id="list初始化"><a href="#list初始化" class="headerlink" title="list初始化"></a>list初始化</h2><p>返回arr.slice(0，-1)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const initial = arr =&gt; arr.slice(0, -1);</div><div class="line">// initial([1,2,3]) -&gt; [1,2]</div></pre></td></tr></table></figure>
<hr>
<h2 id="用range初始化数组"><a href="#用range初始化数组" class="headerlink" title="用range初始化数组"></a>用range初始化数组</h2><p>使用Array(end-start)创建所需长度的数组，使用map()来填充范围内的所需值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">const initializeArrayRange = (end, start = 0) =&gt;</div><div class="line">  Array.apply(null, Array(end - start)).map((v, i) =&gt; i + start);</div><div class="line">// initializeArrayRange(5) -&gt; [0,1,2,3,4]</div></pre></td></tr></table></figure>
<hr>
<h2 id="用值初始化数组"><a href="#用值初始化数组" class="headerlink" title="用值初始化数组"></a>用值初始化数组</h2><p>使用Array(n)创建所需长度的数组，fill(v)以填充所需的值，可以忽略value使用默认值0。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const initializeArray = (n, value = 0) =&gt; Array(n).fill(value);</div><div class="line">// initializeArray(5, 2) -&gt; [2,2,2,2,2]</div></pre></td></tr></table></figure>
<hr>
<h2 id="列表的最后"><a href="#列表的最后" class="headerlink" title="列表的最后"></a>列表的最后</h2><p>返回arr.slice(-1)[0]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const last = arr =&gt; arr.slice(-1)[0];</div><div class="line">// last([1,2,3]) -&gt; 3</div></pre></td></tr></table></figure>
<hr>
<h2 id="测试功能所花费的时间"><a href="#测试功能所花费的时间" class="headerlink" title="测试功能所花费的时间"></a>测试功能所花费的时间</h2><p>使用performance.now()获取函数的开始和结束时间，console.log()所花费的时间。第一个参数是函数名，随后的参数传递给函数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">const timeTaken = callback =&gt; &#123;</div><div class="line">    console.time(&apos;timeTaken&apos;);</div><div class="line">    const r = callback();</div><div class="line">    console.timeEnd(&apos;timeTaken&apos;);</div><div class="line">    return r;</div><div class="line">&#125;;</div><div class="line">// timeTaken(() =&gt; Math.pow(2, 10)) -&gt; 1024</div><div class="line">// (logged): timeTaken: 0.02099609375ms</div></pre></td></tr></table></figure>
<hr>
<h2 id="来自键值对的对象"><a href="#来自键值对的对象" class="headerlink" title="来自键值对的对象"></a>来自键值对的对象</h2><p>使用Array.reduce()来创建和组合键值对。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const objectFromPairs = arr.reduce((a, v) =&gt; (a[v[0]] =v[1], a), &#123;&#125;);</div><div class="line">// objectFromPairs([[&apos;a&apos;,1],[&apos;b&apos;,2]]) -&gt; &#123;a: 1, b: 2&#125;</div></pre></td></tr></table></figure>
<hr>
<h2 id="管道"><a href="#管道" class="headerlink" title="管道"></a>管道</h2><p>使用Array.reduce()通过函数传递值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const pipe = (...funcs) =&gt; arg =&gt; funcs.reduce((acc, func) =&gt; func(acc), arg);</div><div class="line">// pipe(btoa, x =&gt; x.toUpperCase())(&quot;Test&quot;) -&gt; &quot;VGVZDA==&quot;</div></pre></td></tr></table></figure>
<hr>
<h2 id="Powerset"><a href="#Powerset" class="headerlink" title="Powerset"></a>Powerset</h2><p>使用reduce()与map()结合来遍历元素，并将其组合成包含所有组合的数组。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const powerset = arr =&gt; arr.reduce((a, v) =&gt; a.concat(a.map(r =&gt; [v].concat(r))), [[]]);</div><div class="line">// powerset([1,2]) -&gt; [[], [1], [2], [2,1]]</div></pre></td></tr></table></figure>
<hr>
<h2 id="范围内的随机整数"><a href="#范围内的随机整数" class="headerlink" title="范围内的随机整数"></a>范围内的随机整数</h2><p>使用Math.random()生成一个随机数并将其映射到所需的范围，使用Math.floor()使其成为一个整数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const randomIntegerInRange = (min, max) =&gt; Math.floor(Math.random() * (max - min + 1)) + min;</div><div class="line">// randomIntegerInRange(0, 5) -&gt; 2</div></pre></td></tr></table></figure>
<hr>
<h2 id="范围内的随机数"><a href="#范围内的随机数" class="headerlink" title="范围内的随机数"></a>范围内的随机数</h2><p>使用Math.random()生成一个随机值，使用乘法将其映射到所需的范围。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const randomInRange = (min, max) =&gt; Math.random() * (max - min) + min;</div><div class="line">// randomInRange(2,10) -&gt; 6.0211363285087005</div></pre></td></tr></table></figure>
<hr>
<h2 id="随机化数组的顺序"><a href="#随机化数组的顺序" class="headerlink" title="随机化数组的顺序"></a>随机化数组的顺序</h2><p>使用sort()重新排序元素，使用Math.random()来随机排序。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const shuffle = arr =&gt; arr.sort(() =&gt; Math.random() - 0.5);</div><div class="line">// shuffle([1,2,3]) -&gt; [2,3,1]</div></pre></td></tr></table></figure>
<hr>
<h2 id="重定向到URL"><a href="#重定向到URL" class="headerlink" title="重定向到URL"></a>重定向到URL</h2><p>使用window.location.href或window.location.replace()重定向到url。传递第二个参数来模拟链接点击(true-default)或HTTP重定向(false)。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const redirect = (url, asLink = true) =&gt; asLink ? window.location.href = url : window.location.replace(url);</div><div class="line">// redirect(&apos;https://google.com&apos;)</div></pre></td></tr></table></figure>
<hr>
<h2 id="反转一个字符串"><a href="#反转一个字符串" class="headerlink" title="反转一个字符串"></a>反转一个字符串</h2><p>使用数组解构和Array.reverse()来颠倒字符串中的字符顺序。合并字符以使用join(‘’)获取字符串。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const reverseString = str =&gt; [...str].reverse().join(&apos;&apos;);</div><div class="line">// reverseString(&apos;foobar&apos;) -&gt; &apos;raboof&apos;</div></pre></td></tr></table></figure>
<hr>
<h2 id="RGB到十六进制"><a href="#RGB到十六进制" class="headerlink" title="RGB到十六进制"></a>RGB到十六进制</h2><p>使用按位左移运算符(&lt;&lt;)和toString(16)，然后padStart(6，“0”)将给定的RGB参数转换为十六进制字符串以获得6位十六进制值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const rgbToHex = (r, g, b) =&gt; ((r &lt;&lt; 16) + (g &lt;&lt; 8) + b).toString(16).padStart(6, &apos;0&apos;);</div><div class="line">// rgbToHex(255, 165, 1) -&gt; &apos;ffa501&apos;</div></pre></td></tr></table></figure>
<hr>
<h2 id="滚动到顶部"><a href="#滚动到顶部" class="headerlink" title="滚动到顶部"></a>滚动到顶部</h2><p>使用document.documentElement.scrollTop或document.body.scrollTop获取到顶部的距离。<br>从顶部滚动一小部分距离。</p>
<p>使用window.requestAnimationFrame()来滚动。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">const scrollToTop = _ =&gt; &#123;</div><div class="line">const c = document.documentElement.scrollTop || document.body.scrollTop;</div><div class="line">  if (c &gt; 0) &#123;</div><div class="line">    window.requestAnimationFrame(scrollToTop);</div><div class="line">    window.scrollTo(0, c - c / 8);</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line">// scrollToTop()</div></pre></td></tr></table></figure>
<hr>
<h2 id="随机数组值"><a href="#随机数组值" class="headerlink" title="随机数组值"></a>随机数组值</h2><p>使用Array.map()和Math.random()创建一个随机值的数组。使用Array.sort()根据随机值对原始数组的元素进行排序。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">const shuffle = arr =&gt; &#123;</div><div class="line">let r = arr.map(Math.random);</div><div class="line">return arr.sort((a,b) =&gt; r[a] - r[b]);</div><div class="line">&#125;</div><div class="line">// shuffle([1, 2, 3]) -&gt; [2, 1, 3]</div></pre></td></tr></table></figure>
<hr>
<h2 id="数组之间的相似性"><a href="#数组之间的相似性" class="headerlink" title="数组之间的相似性"></a>数组之间的相似性</h2><p>使用filter()移除不是values的一部分值，使用includes()确定。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const similarity = (arr, values) =&gt; arr.filter(v =&gt; values.includes(v));</div><div class="line">// similarity([1,2,3], [1,2,4]) -&gt; [1,2]</div></pre></td></tr></table></figure>
<hr>
<h2 id="按字符串排序-按字母顺序排序"><a href="#按字符串排序-按字母顺序排序" class="headerlink" title="按字符串排序(按字母顺序排序)"></a>按字符串排序(按字母顺序排序)</h2><p>使用split(‘’)分割字符串，sort()使用localeCompare()，使用join(‘’)重新组合。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const sortCharactersInString = str =&gt; str.split(&apos;&apos;).sort((a, b) =&gt; a.localeCompare(b)).join(&apos;&apos;);</div><div class="line">// sortCharactersInString(&apos;cabbage&apos;) -&gt; &apos;aabbceg&apos;</div></pre></td></tr></table></figure>
<hr>
<h2 id="数组总和"><a href="#数组总和" class="headerlink" title="数组总和"></a>数组总和</h2><p>使用reduce()将每个值添加到累加器，初始化值为0。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const sum = arr =&gt; arr.reduce((acc, val) =&gt; acc + val, 0);</div><div class="line">// sum([1,2,3,4]) -&gt; 10</div></pre></td></tr></table></figure>
<hr>
<h2 id="交换两个变量的值"><a href="#交换两个变量的值" class="headerlink" title="交换两个变量的值"></a>交换两个变量的值</h2><p>使用数组解构来交换两个变量之间的值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[varA, varB] = [varB, varA]</div><div class="line">// [x, y] = [y, x]</div></pre></td></tr></table></figure>
<hr>
<h2 id="列表的tail"><a href="#列表的tail" class="headerlink" title="列表的tail"></a>列表的tail</h2><p>返回arr.slice(1)。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">const tail = arr =&gt; arr.length &gt; 1 ? arr.slice(1) : arr;</div><div class="line">// tail([1,2,3]) -&gt; [2,3]</div><div class="line">// tail([1]) -&gt; [1]</div></pre></td></tr></table></figure>
<hr>
<h2 id="数组唯一值"><a href="#数组唯一值" class="headerlink" title="数组唯一值"></a>数组唯一值</h2><p>使用ES6 Set和…rest操作符去掉所有重复值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const unique = arr =&gt; [...new Set(arr)];</div><div class="line">// unique([1, 2, 2, 3, 4, 4, 5]) -&gt; [1, 2, 3, 4, 5]</div></pre></td></tr></table></figure>
<hr>
<h2 id="URL参数"><a href="#URL参数" class="headerlink" title="URL参数"></a>URL参数</h2><p>使用match()与适当的正则表达式来获得所有键值对，适当的map()。使用Object.assign()和spread运算符(…)将所有键值对组合到一个对象中，将location.search()作为参数传递给当前url。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const getUrlParameters = url =&gt; url.match(/([^?=&amp;]+)(=([^&amp;]*))/g).reduce((a, v) =&gt; (a[v.slice(0, v.indexOf(&apos;=&apos;))] = v.slice(v.indexOf(&apos;=&apos;) + 1), a), &#123;&#125;);</div><div class="line">// getUrlParameters(&apos;http://url.com/page?name=Adam&amp;surname=Smith&apos;) -&gt; &#123;name: &apos;Adam&apos;, surname: &apos;Smith&apos;&#125;</div></pre></td></tr></table></figure>
<hr>
<h2 id="UUID生成器"><a href="#UUID生成器" class="headerlink" title="UUID生成器"></a>UUID生成器</h2><p>使用crypto API生成符合RFC4122版本4的UUID。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const uuid = _ =&gt; ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c =&gt; (c ^ crypto.getRandomValues(new Uint8Array(1))[0] &amp; 15 &gt;&gt; c / 4).toString(16));</div><div class="line">// uuid() -&gt; &apos;7982fcfe-5721-4632-bede-6000885be57d&apos;</div></pre></td></tr></table></figure>
<hr>
<h2 id="验证数字"><a href="#验证数字" class="headerlink" title="验证数字"></a>验证数字</h2><p>使用！isNaN和parseFloat（）来检查参数是否是一个数字，使用isFinite（）来检查数字是否是有限的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const validateNumber = n =&gt; !isNaN(parseFloat(n)) &amp;&amp; isFinite(n) &amp;&amp; Number(n) == n;</div><div class="line">// validateNumber(&apos;10&apos;) -&gt; true</div></pre></td></tr></table></figure>
<hr>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        <li title='0' data-url='http://link.hhtjim.com/163/5146554.mp3'></li>
                    
                        <li title='1' data-url='http://link.hhtjim.com/qq/001faIUs4M2zna.mp3'></li>
                    
                </ul>
            
        </div>
        
    <div id='gitalk-container' class="comment link"
        data-ae='false'
        data-ci=''
        data-cs=''
        data-r=''
        data-o=''
        data-a=''
        data-d='false'
    >查看评论</div>


    </div>
    
</div>


    </div>
</div><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/diaspora.js"></script>
<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">
<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>




</html>
